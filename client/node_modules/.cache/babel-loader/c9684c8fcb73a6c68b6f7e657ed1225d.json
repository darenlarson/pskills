{"ast":null,"code":"import _classCallCheck from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/darenlarson/Code/pskills/client/src/App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport LandingPage1 from './components/Landing/LandingPage1';\nimport NavigationBar from \"./components/Navigation/NavigationBar\";\nimport Prisons from \"./components/Prisons/Prisons\";\nimport PrisonOverview from \"./components/Prisons/PrisonOverview\";\nimport LoginView from './components/Login/LoginView';\nimport Footer from \"./components/Footer/Footer\";\nimport EmployerHome from \"./components/Employer/EmployerHome\";\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.getPrisons = function () {\n      axios.get(\"http://localhost:5000/api/prisons\").then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          prisons: res.data\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getPrisonInfo = function (id) {\n      console.log('getPrisonInfo() invoked');\n      console.log(\"id: \".concat(id));\n      axios.get(\"http://localhost:5000/api/prisons/\".concat(id)).then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          prisonInfo: {\n            id: res.data.id,\n            location: res.data.location,\n            name: res.data.name,\n            phoneNumber: res.data.phoneNumber\n          },\n          prisoners: res.data.prisoners\n        });\n\n        _this.props.history.push(\"/prisons/\".concat(id));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.registerUser = function (credentials) {\n      var endpoint = \"http://localhost:5000/api/users/register\";\n      var loginEndpoint = \"http://localhost:5000/api/users/login\";\n      axios.post(endpoint, credentials).then(function (res) {\n        _this.loginUser(credentials);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.loginUser = function (credentials) {\n      var loginEndpoint = \"http://localhost:5000/api/users/login\";\n      axios.post(loginEndpoint, credentials).then(function (res) {\n        localStorage.setItem('jwt', res.data.token);\n\n        _this.setState({\n          loggedIn: true\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.createPrison = function () {};\n\n    _this.state = {\n      prisons: [],\n      prisonInfo: {},\n      prisoners: [],\n      adminId: null,\n      loggedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"AppContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/\",\n        component: NavigationBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: LandingPage1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/prisons/\",\n        render: function render(props) {\n          return React.createElement(Prisons, Object.assign({}, props, {\n            getPrisons: _this2.getPrisons,\n            getPrisonInfo: _this2.getPrisonInfo,\n            prisons: _this2.state.prisons,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/prisons/:id\",\n        render: function render(props) {\n          return React.createElement(PrisonOverview, Object.assign({}, props, {\n            prisonInfo: _this2.state.prisonInfo,\n            prisoners: _this2.state.prisoners,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/login\",\n        render: function render(props) {\n          return React.createElement(LoginView, Object.assign({}, props, {\n            loginUser: _this2.loginUser,\n            registerUser: _this2.registerUser,\n            loggedIn: _this2.state.loggedIn,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        component: Footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\n;\nexport default App;","map":{"version":3,"sources":["/Users/darenlarson/Code/pskills/client/src/App.js"],"names":["React","axios","Route","LandingPage1","NavigationBar","Prisons","PrisonOverview","LoginView","Footer","EmployerHome","App","props","getPrisons","get","then","res","console","log","setState","prisons","data","catch","err","getPrisonInfo","id","prisonInfo","location","name","phoneNumber","prisoners","history","push","registerUser","credentials","endpoint","loginEndpoint","post","loginUser","localStorage","setItem","token","loggedIn","createPrison","state","adminId","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport LandingPage1 from './components/Landing/LandingPage1';\nimport NavigationBar from \"./components/Navigation/NavigationBar\";\nimport Prisons from \"./components/Prisons/Prisons\";\nimport PrisonOverview from \"./components/Prisons/PrisonOverview\";\nimport LoginView from './components/Login/LoginView';\nimport Footer from \"./components/Footer/Footer\";\nimport EmployerHome from \"./components/Employer/EmployerHome\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      prisons: [],\n      prisonInfo: {},\n      prisoners: [],\n      adminId: null,\n      loggedIn: false,\n    };\n  }\n\n  getPrisons = () => {\n    axios\n      .get(\"http://localhost:5000/api/prisons\")\n      .then(res => {\n        console.log(res);\n        this.setState({ prisons: res.data });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  getPrisonInfo = id => {\n    console.log('getPrisonInfo() invoked')\n    console.log(`id: ${id}`)\n    axios\n      .get(`http://localhost:5000/api/prisons/${id}`)\n      .then(res => {\n        console.log(res);\n\n        this.setState({\n          prisonInfo: {\n            id: res.data.id,\n            location: res.data.location,\n            name: res.data.name,\n            phoneNumber: res.data.phoneNumber,\n          },\n          prisoners: res.data.prisoners,\n        })\n\n        this.props.history.push(`/prisons/${id}`)\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  registerUser = credentials => {\n    const endpoint = \"http://localhost:5000/api/users/register\";\n    const loginEndpoint = \"http://localhost:5000/api/users/login\";\n\n    axios\n      .post(endpoint, credentials)\n      .then(res => {\n        this.loginUser(credentials)\n      })\n      .catch(err => console.log(err));\n\n  };\n\n  loginUser = credentials => {\n    const loginEndpoint = \"http://localhost:5000/api/users/login\";\n\n    axios\n          .post(loginEndpoint, credentials)\n          .then(res => {\n            localStorage.setItem('jwt', res.data.token);\n\n            this.setState({ loggedIn: true })\n            \n          })\n          .catch(err => console.log(err));\n  };\n\n  createPrison = () => {\n\n  };\n\n  render() {\n    return (\n      <div className=\"AppContainer\">\n        <Route path=\"/\" component={NavigationBar} />\n        <Route exact path=\"/\" component={LandingPage1} />\n        <Route\n          exact\n          path=\"/prisons/\"\n          render={props => (\n            <Prisons\n              {...props}\n              getPrisons={this.getPrisons}\n              getPrisonInfo={this.getPrisonInfo}\n              prisons={this.state.prisons}\n            />\n          )}\n        />\n        <Route\n          path=\"/prisons/:id\"\n          render={props => (\n            <PrisonOverview\n              {...props}\n              prisonInfo={this.state.prisonInfo}\n              prisoners={this.state.prisoners}\n            />\n          )}\n        />\n        {/* <Route\n          path=\"/employer/:id\"\n          render={props => (\n            <CreatePrison\n              {...props}\n              createPrison={this.prisonInfo}\n            />\n          )}\n        /> */}\n        <Route\n          path=\"/login\"\n          render={props => (\n            <LoginView\n              {...props}\n              loginUser={this.loginUser}\n              registerUser={this.registerUser}\n              loggedIn={this.state.loggedIn}\n            />\n          )}\n        />\n        <Route path=\"/\" component={Footer} />\n      </div>\n    )\n  };\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}