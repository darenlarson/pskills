{"ast":null,"code":"import _classCallCheck from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/darenlarson/Code/pskills/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/darenlarson/Code/pskills/client/src/App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport LandingPage1 from './components/Landing/LandingPage1';\nimport NavigationBar from \"./components/Navigation/NavigationBar\";\nimport Prisons from \"./components/Prisons/Prisons\";\nimport PrisonOverview from \"./components/Prisons/PrisonOverview\";\nimport LoginView from './components/Login/LoginView';\nimport Footer from \"./components/Footer/Footer\";\nimport EmployerHome from \"./components/Employer/EmployerHome\";\nimport Authentication from './components/Login/Authentication';\nimport EmployerHOC from \"./components/Employer/EmployerHOC\";\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.getPrisons = function () {\n      axios.get(\"http://localhost:5000/api/prisons\").then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          prisons: res.data\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.getPrisonInfo = function (id) {\n      console.log('getPrisonInfo() invoked');\n      console.log(\"id: \".concat(id));\n      axios.get(\"http://localhost:5000/api/prisons/\".concat(id)).then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          prisonInfo: {\n            id: res.data.id,\n            location: res.data.location,\n            name: res.data.name,\n            phoneNumber: res.data.phoneNumber\n          },\n          prisoners: res.data.prisoners\n        });\n\n        _this.props.history.push(\"/prisons/\".concat(id));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.registerUser = function (credentials) {\n      var endpoint = \"http://localhost:5000/api/users/register\";\n      axios.post(endpoint, credentials).then(function (res) {\n        _this.loginUser(credentials);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.loginUser = function (credentials) {\n      var loginEndpoint = \"http://localhost:5000/api/users/login\";\n      axios.post(loginEndpoint, credentials).then(function (res) {\n        localStorage.setItem('jwt', res.data.token);\n\n        _this.props.history.push('/employer');\n\n        _this.setState({\n          adminId: res.data.id\n        });\n\n        _this.getPrisonInfo(res.data.id);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.createPrison = function () {};\n\n    _this.state = {\n      prisons: [],\n      prisonInfo: {},\n      prisoners: [],\n      adminId: null,\n      prisonId: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"AppContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/\",\n        component: NavigationBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: LandingPage1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/prisons/\",\n        render: function render(props) {\n          return React.createElement(Prisons, Object.assign({}, props, {\n            getPrisons: _this2.getPrisons,\n            getPrisonInfo: _this2.getPrisonInfo,\n            prisons: _this2.state.prisons,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/prisons/:id\",\n        render: function render(props) {\n          return React.createElement(PrisonOverview, Object.assign({}, props, {\n            prisonInfo: _this2.state.prisonInfo,\n            prisoners: _this2.state.prisoners,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/login\",\n        render: function render(props) {\n          return React.createElement(Authentication, Object.assign({}, props, {\n            loginUser: _this2.loginUser,\n            registerUser: _this2.registerUser,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/employer\",\n        render: function render(props) {\n          return React.createElement(EmployerHOC, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        component: Footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\n;\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/darenlarson/Code/pskills/client/src/App.js"],"names":["React","axios","Route","withRouter","LandingPage1","NavigationBar","Prisons","PrisonOverview","LoginView","Footer","EmployerHome","Authentication","EmployerHOC","App","props","getPrisons","get","then","res","console","log","setState","prisons","data","catch","err","getPrisonInfo","id","prisonInfo","location","name","phoneNumber","prisoners","history","push","registerUser","credentials","endpoint","post","loginUser","loginEndpoint","localStorage","setItem","token","adminId","createPrison","state","prisonId","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport LandingPage1 from './components/Landing/LandingPage1';\nimport NavigationBar from \"./components/Navigation/NavigationBar\";\nimport Prisons from \"./components/Prisons/Prisons\";\nimport PrisonOverview from \"./components/Prisons/PrisonOverview\";\nimport LoginView from './components/Login/LoginView';\nimport Footer from \"./components/Footer/Footer\";\nimport EmployerHome from \"./components/Employer/EmployerHome\";\nimport Authentication from './components/Login/Authentication';\nimport EmployerHOC from \"./components/Employer/EmployerHOC\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      prisons: [],\n      prisonInfo: {},\n      prisoners: [],\n      adminId: null,\n      prisonId: null,\n    };\n  }\n\n  getPrisons = () => {\n    axios\n      .get(\"http://localhost:5000/api/prisons\")\n      .then(res => {\n        console.log(res);\n        this.setState({ prisons: res.data });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  getPrisonInfo = id => {\n    console.log('getPrisonInfo() invoked')\n    console.log(`id: ${id}`)\n    axios\n      .get(`http://localhost:5000/api/prisons/${id}`)\n      .then(res => {\n        console.log(res);\n\n        this.setState({\n          prisonInfo: {\n            id: res.data.id,\n            location: res.data.location,\n            name: res.data.name,\n            phoneNumber: res.data.phoneNumber,\n          },\n          prisoners: res.data.prisoners,\n        })\n\n        this.props.history.push(`/prisons/${id}`)\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  registerUser = credentials => {\n    const endpoint = \"http://localhost:5000/api/users/register\";\n\n    axios\n      .post(endpoint, credentials)\n      .then(res => {\n        this.loginUser(credentials)\n      })\n      .catch(err => console.log(err));\n\n  };\n\n  loginUser = credentials => {\n    const loginEndpoint = \"http://localhost:5000/api/users/login\";\n\n    axios\n          .post(loginEndpoint, credentials)\n          .then(res => {\n            localStorage.setItem('jwt', res.data.token);\n            this.props.history.push('/employer')\n            this.setState({ adminId: res.data.id})\n            this.getPrisonInfo(res.data.id)\n          })\n          .catch(err => console.log(err));\n  };\n\n  createPrison = () => {\n\n  };\n\n  render() {\n    return (\n      <div className=\"AppContainer\">\n        <Route path=\"/\" component={NavigationBar} />\n        <Route exact path=\"/\" component={LandingPage1} />\n        <Route\n          exact\n          path=\"/prisons/\"\n          render={props => (\n            <Prisons\n              {...props}\n              getPrisons={this.getPrisons}\n              getPrisonInfo={this.getPrisonInfo}\n              prisons={this.state.prisons}\n            />\n          )}\n        />\n        <Route\n          path=\"/prisons/:id\"\n          render={props => (\n            <PrisonOverview\n              {...props}\n              prisonInfo={this.state.prisonInfo}\n              prisoners={this.state.prisoners}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/login\"\n          render={props => (\n            <Authentication\n              {...props}\n              loginUser={this.loginUser}\n              registerUser={this.registerUser}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/employer\"\n          render={props => (\n            <EmployerHOC\n              {...props}\n            />\n          )}\n        />\n\n\n        <Route path=\"/\" component={Footer} />\n      </div>\n    )\n  };\n};\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}